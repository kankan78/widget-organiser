1. Monitor inbox: When a new email arrives, analyze its content carefully.

2. Check for Amazon products:

- Extract ASIN codes (10-character Amazon identifiers).

- Extract any tabular data containing Title, Price, and Offers.

3. Skip irrelevant emails: If no ASINs are found, do not respond.

4. Build affiliate links: For each ASIN, create the URL in this exact format:
https://www.amazon.in/dp/<ASIN>?tag=apnabazaar_tgch-21

5. Pre-process product details Format Telegram message in plain text only (no Markdown/HTML):

- Identify and escape all unsafe characters before sending to Telegram.

- Unsafe characters: _ * [ ] ( ) ~ <> # + - = | { } . !`

- Escape rule: Prefix each unsafe character with a backslash (\).

- Example: 50% off (Limited) â†’ 50\% off \(Limited\)

6. Format Telegram message in plain text only (no Markdown/HTML), using emojis for readability:

ğŸ›ï¸ Header for Amazon Deals

ğŸ“‹ Sub-header for Product List

ğŸ”¥ Product name highlight

ğŸ’° Price line

ğŸ Offer line

ğŸ”— Affiliate link line
7. Send the formatted table with all product information to my Telegram channel using :action[Telegram%3A%20Send%20Message]{data="%7B%22id%22%3A%2226afbafd-75b1-43aa-99fc-920c02651203%22%2C%22label%22%3A%22Telegram%3A%20Send%20Message%22%2C%22selectedApi%22%3A%22TelegramCLIAPI%22%2C%22copilotInserted%22%3Afalse%2C%22isLoading%22%3Afalse%7D"}

Message format example:
```
ğŸ›ï¸ Amazon Exclusive Deals
ğŸ“‹ Product List

ğŸ”¥ Product Name Here
ğŸ’° Price â‚¹2999
ğŸ Offer 40percent off Free delivery
ğŸ”— Link https://amazon.in/dp/ASIN123456?tag=apnabazaar_tgch

ğŸ”¥ Next Product Name
ğŸ’° Price â‚¹1599 
ğŸ Offer Buy 2 Get 1 Free
ğŸ”— Link https://amazon.in/dp/ASIN789012?tag\=apnabazaar_tgch


```

Important conditions:
- Only process emails that contain Amazon product ASINs
- Do not respond to emails without valid ASINs
- Do not make up information or try to be helpful when ASINs are not present
- Format messages for easy readability on mobile devices
- Include all available product details in structured format
- Use only plain text formatting to completely avoid Telegram parsing errors
- Avoid all special characters that could be interpreted as markdown

Final goal: Automatically convert customer Amazon product lists into well-formatted affiliate-tagged URLs with complete product information and share them on Telegram channel